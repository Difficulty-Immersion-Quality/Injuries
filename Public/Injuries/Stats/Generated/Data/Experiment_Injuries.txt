new entry "Shadow"
type "Character"
using "_Undead"
data "Strength" "6"
data "Dexterity" "16"
data "Constitution" "13"
data "Intelligence" "6"
data "Wisdom" "10"
data "Charisma" "8"
data "Armor" "10"
data "Vitality" "24"
data "Sight" "1400"
data "Weight" "0.01"
data "GameSize" "Medium"
data "SoundSize" "Medium"
data "Flags" "Floating;ObscurityWithoutSneaking;SlippingImmunity;FloatingWhileMoving;EnableObscurityEvents;Grounded"
data "DefaultBoosts" "BlockRegainHP(Undead;Construct);ProficiencyBonus(Skill, Stealth)"
data "PersonalStatusImmunities" "SG_Poisoned;EXHAUSTED;PARALYZED;HOLD_PERSON;PETRIFIED;PRONE;RESTRAINED;POISONED;KNOCKED_DOWN;ABJURE_ENEMY_FRIGHT;NET;BLEEDING;GAPING_WOUND;GRAPPLED;FEARED"
data "SpellCastingAbility" "Dexterity"
data "UnarmedAttackAbility" "Dexterity"
data "ActionResources" "ActionPoint:1;BonusActionPoint:1;Movement:12;ReactionActionPoint:1"
data "Passives" "ShadowyRetreat;Ethereal;SunlightWeakness;AttackOfOpportunity;Darkvision;DarknessRules;DispelEvilAndGood_Charm_Check;DispelEvilAndGood_Frightened_Check;DispelEvilAndGood_Possessed_Check"
data "BludgeoningResistance" "ResistantToNonMagical"
data "SlashingResistance" "ResistantToNonMagical"
data "PiercingResistance" "ResistantToNonMagical"
data "AcidResistance" "Resistant"
data "ColdResistance" "Resistant"
data "FireResistance" "Resistant"
data "LightningResistance" "Resistant"
data "NecroticResistance" "Immune"
data "PoisonResistance" "Immune"
data "RadiantResistance" "Vulnerable"
data "ThunderResistance" "Resistant"
data "DarkvisionRange" "14"
data "ArmorType" "None"


new entry "GOON_INJURY_SEE_DELUSIONS"
type "StatusData"
data "StatusType" "BOOST"
// See Delusions
data "DisplayName" ""
// 
data "Description" ""
data "DescriptionParams" "Distance(9)"
data "Icon" "Spell_Divination_SeeInvisibility"
data "StackId" "GOON_SEE_DELUSIONS"
data "AuraRadius" "9"
data "AuraStatuses" "TARGET:IF(not HasAnyStatus({'SG_Unconscious','SG_Incapacitated'},{},{},context.Source) and HasStatus('SG_Goon_Delusions')):ApplyStatus(GOON_SEE_DELUSIONS_SEEN)"
data "AuraFlags" "AIIgnoreOnSelf"
data "OnApplyFunctors" ""
data "StatusGroups" "SG_Goon_Delusions"
data "StatusEffect" "d8452a11-7c66-45fb-8ccb-64e2fa56ada5"

new entry "GOON_SEE_DELUSIONS_SEEN"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "GOON_SEE_DELUSIONS_SEEN"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "OnApplyFunctors" ""
data "OnApplyRoll" "( (not HasStatus('GOON_SEE_DELUSIONS_REMAIN_HIDDEN') or StatusDurationLessThan(context.Target, 'GOON_SEE_DELUSIONS_REMAIN_HIDDEN', 0.1)) and not SavingThrow(Ability.Wisdom, SourceSpellDC()) )"
data "OnApplySuccess" "ApplyStatus(GOON_SEE_DELUSIONS_REMAIN_HIDDEN)"
data "OnApplyFail" "ApplyStatus(GOON_SEE_DELUSIONS_REVEAL)"
data "OnTickRoll" "( (not HasStatus('GOON_SEE_DELUSIONS_REMAIN_HIDDEN') or StatusDurationLessThan(context.Target, 'GOON_SEE_DELUSIONS_REMAIN_HIDDEN', 0.1)) and not SavingThrow(Ability.Wisdom, SourceSpellDC()) )"
data "OnTickSuccess" "ApplyStatus(GOON_SEE_DELUSIONS_REMAIN_HIDDEN)"
data "OnTickFail" "ApplyStatus(GOON_SEE_DELUSIONS_REVEAL)"

new entry "GOON_SEE_DELUSIONS_REMAIN_HIDDEN"
type "StatusData"
data "StatusType" "BOOST"
// %%% EMPTY
data "DisplayName" "hbc9b2ccdgc973g410egb1fagf8e69545c3ce;2"
data "StackId" "GOON_SEE_DELUSIONS_REMAIN_HIDDEN"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"

new entry "GOON_SEE_DELUSIONS_REVEAL"
type "StatusData"
data "StatusType" "BOOST"
// Revealed
data "DisplayName" ""
// 
data "Description" ""
data "Icon" "Spell_Divination_SeeInvisibility"
data "StackId" "GOON_SEE_DELUSIONS_REVEAL"
data "AuraFlags" ""
data "OnApplyFunctors" "RemoveStatus(SG_Goon_Delusions)"
data "StatusEffect" "d8452a11-7c66-45fb-8ccb-64e2fa56ada5"