new entry "ALCH_POTION_REST_SLEEP_LESSER_RESTORATION"
type "StatusData"
data "StatusType" "BOOST"
using "ALCH_POTION_REST_SLEEP_LESSER_RESTORATION"
data "OnApplyFunctors" "ResetCooldowns(UntilShortRest);IF(not HasPassive('Durable')):RegainHitPoints(MaxHP/2);IF(HasPassive('Durable')):RegainHitPoints(MaxHP);RestoreResource(SpellSlot,100%,1);RestoreResource(SpellSlot,100%,2);RestoreResource(ChannelDivinity,100%,0);RestoreResource(SuperiorityDie,100%,0);RestoreResource(KiPoint,100%,0);RestoreResource(WarlockSpellSlot,100%,1);RestoreResource(WarlockSpellSlot,100%,2);RestoreResource(WarlockSpellSlot,100%,3);RestoreResource(WarlockSpellSlot,100%,4);RestoreResource(WarlockSpellSlot,100%,5);RestoreResource(WarlockSpellSlot,100%,6);RestoreResource(WildShape,100%,0);RestoreResource(WeaponActionPoint,100%,0);RestoreResource(TidesOfChaos,100%,0);RestoreResource(ChannelOath,100%,0);IF(HasPassive('FATIGUE_MINUS_ONE_LEVEL_SHORT_REST',context.Source)):ApplyStatus(REMOVE_ONE_LEVEL_FATIGUE_ANY_TYPE_CHECK_PASSIVES,100,0);"

new entry "ALCH_POTION_REST_SLEEP_GREATER_RESTORATION"
type "StatusData"
data "StatusType" "BOOST"
using "ALCH_POTION_REST_SLEEP_GREATER_RESTORATION"
data "OnApplyFunctors" "ResetCooldowns(UntilRest);RegainHitPoints(Target.MaxHP);RemoveStatus(SPELLSLOT_1);RemoveStatus(SPELLSLOT_2);RemoveStatus(SPELLSLOT_3);RemoveStatus(SPELLSLOT_4);RestoreResource(SpellSlot,100%,1);RestoreResource(SpellSlot,100%,2);RestoreResource(SpellSlot,100%,3);RestoreResource(SpellSlot,100%,4);RestoreResource(SpellSlot,100%,5);RestoreResource(SpellSlot,100%,6);RestoreResource(WarlockSpellSlot,100%,1);RestoreResource(WarlockSpellSlot,100%,2);RestoreResource(WarlockSpellSlot,100%,3);RestoreResource(WarlockSpellSlot,100%,4);RestoreResource(WarlockSpellSlot,100%,5);RestoreResource(WarlockSpellSlot,100%,6);RemoveStatus(SORCERYPOINT_1);RemoveStatus(SORCERYPOINT_2);RemoveStatus(SORCERYPOINT_3);RemoveStatus(SORCERYPOINT_4);RestoreResource(SorceryPoint,100%,0);RestoreResource(ChannelDivinity,100%,0);RestoreResource(SuperiorityDie,100%,0);RestoreResource(KiPoint,100%,0);RestoreResource(WildShape,100%,0);RestoreResource(WeaponActionPoint,100%,0);RestoreResource(TidesOfChaos,100%,0);RestoreResource(ChannelOath,100%,0);RestoreResource(Rage,100%,0);RestoreResource(BardicInspiration,100%,0);RestoreResource(HitDice,100%,0);RestoreResource(ArcaneRecoveryPoint,100%,0);RestoreResource(NaturalRecoveryPoint,100%,0);RestoreResource(RitualPoint,100%,0);RestoreResource(LayOnHandsCharge,100%,0);RestoreResource(Interrupt_HellishRebukeTiefling_Charge,100%,0);RestoreResource(Interrupt_HellishRebukeWarlockMI_Charge,100%,0);RestoreResource(FungalInfestationCharge,100%,0);RestoreResource(LuckPoint,100%,0);IF(HasPassive('FATIGUE_MINUS_ONE_LEVEL_LONG_REST',context.Source)):ApplyStatus(REMOVE_ONE_LEVEL_FATIGUE_ANY_TYPE_CHECK_PASSIVES,100,0);IF(HasPassive('FATIGUE_REMOVE_ALL_LEVELS_LONG_REST',context.Source)):ApplyStatus(REMOVE_ALL_LEVELS_FATIGUE_ANY_TYPE_CHECK_PASSIVES,100,0);RemoveStatus(GREATER_RESTORATION_USED_1);RemoveStatus(GREATER_RESTORATION_USED_2);RemoveStatus(GREATER_RESTORATION_USED_3);"